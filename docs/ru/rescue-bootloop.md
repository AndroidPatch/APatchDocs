# Спасение от bootloop

APatch имеет встроенный механизм спасения от `bootloop` (циклическая перезагрузка), который поможет вам быстро отключить все модули и перезагрузить устройство, если какой-либо вредоносный модуль прошит и устройство не загружается.

:::warning
Это может помочь вам только **в тех случаях, когда устройство не может загрузиться из-за вредоносных или конфликтующих модулей**. Однако это руководство **не может помочь вам в таких случаях, как сброс к заводским настройкам или потеря данных!**.
:::

## Встроенные механизмы

- Нажатие клавиши уменьшения громкости

После **удержания кнопки питания для включения устройства, непрерывно нажимайте и отпускайте кнопку уменьшения громкости, пока не загорится первый экран**. Таким образом, будет активирован встроенный безопасный режим APatch, и все модули будут отключены.

:::info
APatch имеет широкий диапазон обнаружения кнопок громкости. Даже если была выполнена фаза `post-fs`, APatch отменит изменения, сделанные в фазе `post-fs`, если будет обнаружен сигнал для загрузки в безопасный режим.

Другими словами, он действует до того, как система передаст параметр `sys.boot_completed=1`.
:::

- Вход в безопасный режим

Некоторые прошивки, такие как MIUI/Xiaomi HyperOS, могут активировать безопасный режим в своем Recovery. Перезагрузка в Recovery и активация безопасного режима, поставляемого с прошивкой, также вызовет безопасный режим APatch.

---

:::tip
После входа в безопасный режим все модули APatch будут отключены, и вы можете выполнить операцию «Удаление», чтобы удалить модули вызывающие проблемы.
:::

## Некоторые проблемы

### Даже после активации "Безопасного режима" система может зависнуть.

Это может быть связано с тем, что не удалось вернуть изменения, внесенные в `post-fs`, что и вызвало зависание. Повторная принудительная перезагрузка должна решить эту проблему.

### Не удается увидеть APatch Manager после входа в безопасный режим через Recovery.

Возможно, вы вошли в безопасный режим Android.

При входе в безопасный режим Android действует правило: все несистемные приложения отключаются. APatch Manager не будет регистрироваться как системное приложение, поэтому это правило приведет к отключению APatch Manager после входа в безопасный режим.

Такое поведение нормально, и оно показывает, что и безопасный режим Android, и безопасный режим APatch, работают нормально, если вы не закрепили APatch Manager в качестве системного приложения. Все, что вам нужно сделать, - это перезагрузить устройство, и Android выйдет из безопасного режима с восстановленным APatch Manager. Однако, APatch не выйдет из безопасного режима одновременно, поэтому в этом случае вы можете отключить все APM, которые вызвали проблемы.
